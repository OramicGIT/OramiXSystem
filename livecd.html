<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OramiX System Live Web Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        html, body {
            width: 100vw;
            height: 100vh;
            margin: 0; padding: 0;
            overflow: hidden;
            background: linear-gradient(120deg, #282c34 0%, #23283a 70%, #383c52 100%);
            font-family: 'Roboto', sans-serif;
        }
        /* UNITY BAR (—Å–±–æ–∫—É —Å–ª–µ–≤–∞) */
        #unity-bar {
            position: absolute;
            left: 0; top: 0; bottom: 0;
            width: 74px;
            background: linear-gradient(180deg,#23283a 70%,#3f4453 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 16px;
            z-index: 5;
            box-shadow: 2px 0 16px 0 #23283a80;
        }
        .unity-icon {
            width: 48px; height: 48px;
            margin-bottom: 22px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 16px;
            background: rgba(255,255,255,0.07);
            transition: background 0.19s, box-shadow 0.19s, transform 0.11s;
            cursor: pointer;
            box-shadow: 0 2px 8px 0 #23283a26;
            border: 2px solid transparent;
        }
        .unity-icon:hover, .unity-icon.active {
            background: #3f82e0;
            box-shadow: 0 4px 18px 0 #3f82e088;
            border-color: #fff;
            transform: scale(1.07);
        }
        #desktop {
            position: absolute;
            left: 74px; right: 0; top: 0; bottom: 0;
            background: linear-gradient(120deg,#38405a 0%,#2a2f44 100%);
            overflow: hidden;
        }
        #top-panel {
            position: absolute;
            left: 74px; right: 0; top: 0; height: 38px;
            background: linear-gradient(90deg,#23283a 80%,#3f82e0 100%);
            color: #eef;
            display: flex;
            align-items: center;
            padding: 0 18px;
            z-index: 10;
            font-size: 1.07em;
            letter-spacing: 0.03em;
            box-shadow: 0 2px 16px 0 #23283a60;
            user-select: none;
        }
        #top-panel .unity-logo {
            width: 30px; height: 30px;
            margin-right: 16px;
            border-radius: 9px;
            background: linear-gradient(135deg,#3f82e0 60%,#fff 100%);
            display: flex; align-items: center; justify-content: center;
            font-weight: 900; font-size: 1.13em; color: #fff;
            box-shadow: 0 2px 8px #2a2f4455;
        }
        #top-panel .panel-title {
            font-weight: bold;
            font-size: 1.09em;
            margin-right: 18px;
        }
        #top-panel .panel-clock {
            margin-left: auto;
            font-family: 'Roboto Mono', 'Courier New', monospace;
            font-size: 1.05em;
            font-weight: 700;
            letter-spacing: 0.05em;
            background: rgba(255,255,255,0.09);
            padding: 4px 13px;
            border-radius: 8px;
        }
        /* –û–∫–Ω–∞ */
        .window {
            position: absolute;
            background: #f5f7fa;
            border-radius: 19px;
            box-shadow: 0 9px 32px 0 #2228a020, 0 1.5px 6px #3f82e044;
            border: 1.5px solid #dde3f7;
            min-width: 320px;
            min-height: 160px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            animation: fadeinwindow 0.6s;
        }
        @keyframes fadeinwindow {
            from { opacity: 0; transform:scale(0.95);}
            to { opacity: 1; transform:scale(1);}
        }
        .window-title-bar {
            background: linear-gradient(90deg,#3f82e0 35%,#23283a 100%);
            color: #fff;
            user-select: none;
            padding: 7px 19px 7px 19px;
            display: flex;
            align-items: center;
            font-weight: 700;
            border-bottom: 1px solid #dde3f7;
        }
        .window-title-bar .unity-win-icon {
            width: 22px; height: 22px;
            margin-right: 10px;
            display: flex; align-items: center; justify-content: center;
            border-radius: 7px;
            background: #fff2;
            font-size: 1.1em;
        }
        .window-title-bar .window-controls {
            margin-left: auto;
            display: flex;
            gap: 7px;
        }
        .window-controls button {
            width: 22px; height: 22px;
            background: #fff2;
            border: none;
            border-radius: 6px;
            font-size: 1.1em;
            color: #3f82e0;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.14s, color 0.14s;
        }
        .window-controls button:hover {
            background: #3f82e0;
            color: #fff;
        }
        .window-content {
            flex: 1;
            padding: 18px;
            font-size: 1.03em;
            color: #192028;
            overflow: auto;
            background: #f7faff;
        }
        /* UNITY DASH (app launcher) */
        #unity-dash {
            position: absolute;
            left: 74px; top: 38px; bottom: 0;
            width: 380px;
            background: rgba(60, 90, 180, 0.97);
            color: #fff;
            border-radius: 0 19px 19px 0;
            box-shadow: 0 6px 42px 0 #23283a70;
            padding: 38px 30px 30px 30px;
            z-index: 100;
            display: none;
            flex-direction: column;
        }
        #unity-dash h2 {
            margin-top: 0;
            font-size: 1.2em;
            margin-bottom: 16px;
        }
        .dash-app-list {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px 12px;
        }
        .dash-app {
            background: rgba(255,255,255,0.11);
            border-radius: 12px;
            padding: 15px 9px;
            text-align: center;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: background 0.17s;
            font-size: 1em;
        }
        .dash-app:hover {
            background: #3f82e0;
        }
        .dash-app-icon {
            font-size: 2.3em;
            margin-bottom: 8px;
        }
        /* TASKBAR (–≤–Ω–∏–∑—É) */
        #unity-taskbar {
            position: absolute;
            left: 74px; right: 0; bottom: 0; height: 44px;
            background: linear-gradient(90deg,#23283a 80%,#3f82e0 100%);
            display: flex;
            align-items: center;
            padding: 0 18px;
            z-index: 10;
            box-shadow: 0 -2px 16px 0 #23283a60;
        }
        .taskbar-app-btn {
            background: rgba(255,255,255,0.11);
            border-radius: 11px;
            margin-right: 12px;
            padding: 5px 18px;
            color: #eaf6ff;
            font-weight: 600;
            letter-spacing: 0.04em;
            border: none;
            font-size: 1em;
            transition: background 0.13s, color 0.13s;
            cursor: pointer;
        }
        .taskbar-app-btn.active, .taskbar-app-btn:hover {
            background: #3f82e0;
            color: #fff;
        }
        /* UNITY NOTIFY */
        #unity-notify {
            position: absolute;
            right: 40px; bottom: 66px;
            min-width: 220px;
            max-width: 340px;
            background: #23283af5;
            color: #fff;
            padding: 18px 20px;
            border-radius: 16px;
            box-shadow: 0 8px 36px #23283a50;
            font-size: 1.09em;
            z-index: 9999;
            display: none;
        }
    </style>
</head>
<body>
    <!-- Unity-like Side Bar -->
    <div id="unity-bar">
        <div class="unity-icon active" title="–ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è" onclick="openDash()">
            <svg width="28" height="28" viewBox="0 0 28 28" fill="none"><rect x="4" y="4" width="20" height="20" rx="6" fill="#3f82e0"/><rect x="9" y="9" width="10" height="10" rx="4" fill="#fff"/></svg>
        </div>
        <div class="unity-icon" title="–¢–µ—Ä–º–∏–Ω–∞–ª" onclick="openApp('terminal')">
            <span style="font-size:1.6em">üñ•Ô∏è</span>
        </div>
        <div class="unity-icon" title="–§–∞–π–ª—ã" onclick="openApp('files')">
            <span style="font-size:1.6em">üìÅ</span>
        </div>
        <div class="unity-icon" title="–ë–ª–æ–∫–Ω–æ—Ç" onclick="openApp('notepad')">
            <span style="font-size:1.6em">‚úçÔ∏è</span>
        </div>
        <div class="unity-icon" title="–°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è" onclick="openApp('sysinfo')">
            <span style="font-size:1.6em">üíª</span>
        </div>
    </div>
    <!-- Top Panel -->
    <div id="top-panel">
        <div class="unity-logo">üü¶</div>
        <span class="panel-title" id="panel-title">OramiX System (Live Web)</span>
        <span class="panel-clock" id="panel-clock"></span>
    </div>
    <!-- Main Desktop -->
    <div id="desktop"></div>
    <!-- Unity Dash (App Launcher) -->
    <div id="unity-dash">
        <h2>–í—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h2>
        <div class="dash-app-list">
            <div class="dash-app" onclick="openApp('terminal')">
                <div class="dash-app-icon">üñ•Ô∏è</div>
                <div>–¢–µ—Ä–º–∏–Ω–∞–ª</div>
            </div>
            <div class="dash-app" onclick="openApp('files')">
                <div class="dash-app-icon">üìÅ</div>
                <div>–§–∞–π–ª—ã</div>
            </div>
            <div class="dash-app" onclick="openApp('notepad')">
                <div class="dash-app-icon">‚úçÔ∏è</div>
                <div>–ë–ª–æ–∫–Ω–æ—Ç</div>
            </div>
            <div class="dash-app" onclick="openApp('sysinfo')">
                <div class="dash-app-icon">üíª</div>
                <div>–°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è</div>
            </div>
        </div>
    </div>
    <!-- Taskbar -->
    <div id="unity-taskbar"></div>
    <!-- Notify -->
    <div id="unity-notify"></div>
    <script>
        // --- Panel clock ---
        function updateClock() {
            const now = new Date();
            document.getElementById('panel-clock').textContent =
                now.toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' });
        }
        updateClock();
        setInterval(updateClock, 15000);

        // --- Unity Dash Show/Hide ---
        function openDash() {
            document.getElementById('unity-dash').style.display = 'flex';
        }
        document.body.addEventListener('mousedown', (e) => {
            if (!e.target.closest('#unity-dash') && !e.target.closest('.unity-icon.active')) {
                document.getElementById('unity-dash').style.display = 'none';
            }
        });

        // --- Applications state ---
        let winCount = 0;
        let windows = {};
        let taskbarApps = {};

        function openApp(app) {
            // Unique window per app
            if (windows[app]) {
                focusWindow(app);
                return;
            }
            let title, content;
            if (app === 'terminal') {
                title = "–¢–µ—Ä–º–∏–Ω–∞–ª OramiX";
                content = `<div style="background:#161817;border-radius:12px;padding:16px;color:#aaffb7;min-height:165px;font-family:monospace;font-size:1.03em;">
                <div id="term-out">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ OramiX System Terminal!<br>–í–≤–µ–¥–∏—Ç–µ <b>help</b> –¥–ª—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥.</div>
                <div style="margin-top:10px;">
                    <span style="color:#74e;">user@oramix:</span><span style="color:#6cc;">~$</span>
                    <input id="term-inp" style="background:transparent;border:none;outline:none;color:#fff;width:65%;font-family:monospace;font-size:1em;" autofocus autocomplete="off">
                </div>
                </div>`;
            } else if (app === 'files') {
                title = "–§–∞–π–ª—ã";
                content = `<div>–§–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.<br><span style="color:#999">–°–∫–æ—Ä–æ –∑–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫.</span></div>`;
            } else if (app === 'notepad') {
                title = "–ë–ª–æ–∫–Ω–æ—Ç";
                content = `<textarea style="width:100%;height:180px;border-radius:9px;border:1px solid #dde3f7;padding:13px;font-size:1.07em;">–ó–∞–º–µ—Ç–∫–∏ OramiX System</textarea>`;
            } else if (app === 'sysinfo') {
                title = "–°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è";
                content = `<div>
                    <b>OramiX System Live Web</b><br>
                    CPU: Generic x86_64<br>
                    RAM: 1 GB<br>
                    GPU: Virtual GFX<br>
                    <span style="color:#aaf;">Powered by HTML5 + JS</span>
                </div>`;
            } else {
                return;
            }
            createWindow(app, title, content);
            if (app === 'terminal') setTimeout(setupTerminal, 80);
        }

        function createWindow(app, title, content) {
            winCount++;
            const win = document.createElement('div');
            win.className = 'window';
            win.style.zIndex = 40 + winCount;
            win.style.left = (110 + winCount * 20) + 'px';
            win.style.top = (80 + winCount * 18) + 'px';
            win.style.width = '390px';
            win.style.height = '270px';
            win.innerHTML = `
                <div class="window-title-bar">
                    <div class="unity-win-icon" style="background:#3f82e022">${title[0]}</div>
                    <span>${title}</span>
                    <div class="window-controls">
                        <button title="–°–≤–µ—Ä–Ω—É—Ç—å" onclick="minimizeWindow('${app}')">‚Äì</button>
                        <button title="–ó–∞–∫—Ä—ã—Ç—å" onclick="closeWindow('${app}')">√ó</button>
                    </div>
                </div>
                <div class="window-content">${content}</div>
            `;
            document.getElementById('desktop').appendChild(win);
            windows[app] = win;
            addToTaskbar(app, title);
            win.addEventListener('mousedown', () => focusWindow(app));
        }

        function addToTaskbar(app, title) {
            const bar = document.getElementById('unity-taskbar');
            const btn = document.createElement('button');
            btn.className = 'taskbar-app-btn active';
            btn.textContent = title;
            btn.onclick = () => focusWindow(app);
            bar.appendChild(btn);
            taskbarApps[app] = btn;
        }
        function focusWindow(app) {
            for (const key in windows) {
                windows[key].style.zIndex = 40;
                taskbarApps[key].classList.remove('active');
            }
            if (windows[app]) {
                windows[app].style.zIndex = 99;
                taskbarApps[app].classList.add('active');
                windows[app].classList.remove('minimized');
                windows[app].style.display = '';
            }
        }
        function closeWindow(app) {
            if (windows[app]) {
                windows[app].remove();
                delete windows[app];
            }
            if (taskbarApps[app]) {
                taskbarApps[app].remove();
                delete taskbarApps[app];
            }
        }
        function minimizeWindow(app) {
            if (windows[app]) {
                windows[app].classList.add('minimized');
                windows[app].style.display = 'none';
                taskbarApps[app].classList.remove('active');
            }
        }

        // --- Notify ---
        function showNotify(msg) {
            const n = document.getElementById('unity-notify');
            n.textContent = msg;
            n.style.display = 'block';
            setTimeout(() => { n.style.display = 'none'; }, 2500);
        }

        // --- Terminal logic ---
        function setupTerminal() {
            const termInp = document.getElementById('term-inp');
            const termOut = document.getElementById('term-out');
            if (!termInp) return;
            termInp.focus();
            termInp.addEventListener('keydown', function termKey(e) {
                if (e.key === 'Enter') {
                    const v = termInp.value.trim();
                    termInp.value = '';
                    termOut.innerHTML += `<br><span style="color:#74e;">user@oramix:</span><span style="color:#6cc;">~$</span> ${v}`;
                    runTerminalCommand(v, termOut);
                }
            });
        }
        function runTerminalCommand(cmd, termOut) {
            const parts = cmd.split(' ');
            const base = parts[0];
            if (base === 'help') {
                termOut.innerHTML += '<br>–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã: help, echo, clear, about, sysinfo, date';
            } else if (base === 'echo') {
                termOut.innerHTML += '<br>' + parts.slice(1).join(' ');
            } else if (base === 'clear') {
                termOut.innerHTML = '';
            } else if (base === 'about') {
                termOut.innerHTML += '<br>OramiX System ‚Äî Live Web Edition. Inspired by Unity/Ubuntu.';
            } else if (base === 'sysinfo') {
                termOut.innerHTML += '<br>CPU: Generic x86_64<br>RAM: 1 GB<br>GPU: Virtual GFX';
            } else if (base === 'date') {
                termOut.innerHTML += '<br>' + new Date().toLocaleString('ru-RU');
            } else if (base === '') {
                termOut.innerHTML += '<br>';
            } else {
                termOut.innerHTML += `<br>–ö–æ–º–∞–Ω–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞: <span style="color:#fa8888">${base}</span>`;
            }
        }

        // –û—Ç–∫—Ä—ã—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = () => {
            openApp('terminal');
        };
    </script>
</body>
</html>
